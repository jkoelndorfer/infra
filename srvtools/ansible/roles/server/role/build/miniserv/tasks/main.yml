---

- name: include docker build-time role
  include_role:
    name: server/lib/build/docker

- name: create build cache
  file:
    path:  "{{ build_cache_dir }}"
    state: directory
    owner: root
    group: root
    mode:  0755
  tags: [always]

- name: include backup build tasks
  include_tasks: backup.yml
  tags: [backup]

- name: include air quality build tasks
  include_tasks: air-quality.yml
  tags: [air-quality]

- name: include pihole build tasks
  include_tasks: pihole.yml
  tags: [pihole]

- name: include secure web application gateway (swag) build tasks
  include_tasks: swag.yml
  tags:
    - swag

- name: include syncthing build tasks
  include_tasks: syncthing.yml
  tags: [syncthing]

- name: include unifi build tasks
  include_tasks: unifi.yml
  tags: [unifi]

- name: include vaultwarden build tasks
  include_tasks: vaultwarden.yml
  tags: [vaultwarden]
