{"version":4,"terraform_version":"1.10.5","serial":11,"lineage":"9b806aea-5ffa-84e4-901c-79ff7609b314","outputs":{"infrastate-bucket":{"value":{"arn":"arn:aws:s3:::infrastate-780570912590","bucket":"infrastate-780570912590"},"type":["object",{"arn":"string","bucket":"string"}]}},"resources":[{"mode":"data","type":"aws_iam_policy_document","name":"infrastructure_state_updater","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"931303091","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowListBucket\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListBucket\",\n      \"Resource\": \"arn:aws:s3:::infrastate-780570912590\"\n    },\n    {\n      \"Sid\": \"AllowBucketCurrentObjectModification\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutObject\",\n        \"s3:ListBucket\",\n        \"s3:GetObject\",\n        \"s3:DeleteObject\"\n      ],\n      \"Resource\": \"arn:aws:s3:::infrastate-780570912590/*\"\n    },\n    {\n      \"Sid\": \"DenyBucketObjectVersionModification\",\n      \"Effect\": \"Deny\",\n      \"Action\": [\n        \"s3:PutObjectVersionTagging\",\n        \"s3:PutObjectVersionAcl\",\n        \"s3:GetObjectVersionTorrent\",\n        \"s3:GetObjectVersionTagging\",\n        \"s3:GetObjectVersionForReplication\",\n        \"s3:GetObjectVersionAttributes\",\n        \"s3:GetObjectVersionAcl\",\n        \"s3:GetObjectVersion\",\n        \"s3:DeleteObjectVersionTagging\",\n        \"s3:DeleteObjectVersion\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"AllowListBucket\",\"Effect\":\"Allow\",\"Action\":\"s3:ListBucket\",\"Resource\":\"arn:aws:s3:::infrastate-780570912590\"},{\"Sid\":\"AllowBucketCurrentObjectModification\",\"Effect\":\"Allow\",\"Action\":[\"s3:PutObject\",\"s3:ListBucket\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Resource\":\"arn:aws:s3:::infrastate-780570912590/*\"},{\"Sid\":\"DenyBucketObjectVersionModification\",\"Effect\":\"Deny\",\"Action\":[\"s3:PutObjectVersionTagging\",\"s3:PutObjectVersionAcl\",\"s3:GetObjectVersionTorrent\",\"s3:GetObjectVersionTagging\",\"s3:GetObjectVersionForReplication\",\"s3:GetObjectVersionAttributes\",\"s3:GetObjectVersionAcl\",\"s3:GetObjectVersion\",\"s3:DeleteObjectVersionTagging\",\"s3:DeleteObjectVersion\"],\"Resource\":\"*\"}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3:ListBucket"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:s3:::infrastate-780570912590"],"sid":"AllowListBucket"},{"actions":["s3:DeleteObject","s3:GetObject","s3:ListBucket","s3:PutObject"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:s3:::infrastate-780570912590/*"],"sid":"AllowBucketCurrentObjectModification"},{"actions":["s3:DeleteObjectVersion","s3:DeleteObjectVersionTagging","s3:GetObjectVersion","s3:GetObjectVersionAcl","s3:GetObjectVersionAttributes","s3:GetObjectVersionForReplication","s3:GetObjectVersionTagging","s3:GetObjectVersionTorrent","s3:PutObjectVersionAcl","s3:PutObjectVersionTagging"],"condition":[],"effect":"Deny","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":"DenyBucketObjectVersionModification"}],"version":"2012-10-17"},"sensitive_attributes":[]}]},{"mode":"data","type":"aws_iam_policy_document","name":"infrastructure_state_updater_assume_role_policy","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"1791092642","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AssumeRole\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::780570912590:user/terragrunt\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"AssumeRole\",\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"AWS\":\"arn:aws:iam::780570912590:user/terragrunt\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["arn:aws:iam::780570912590:user/terragrunt"],"type":"AWS"}],"resources":[],"sid":"AssumeRole"}],"version":"2012-10-17"},"sensitive_attributes":[]}]},{"mode":"data","type":"aws_iam_policy_document","name":"terragrunt_org_infrastructure_state_assume","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"].management","instances":[{"schema_version":0,"attributes":{"id":"69645386","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowAssumingInfrastructureStateUpdater\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Resource\": \"arn:aws:iam::929926685443:role/InfrastructureStateUpdater\"\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"AllowAssumingInfrastructureStateUpdater\",\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Resource\":\"arn:aws:iam::929926685443:role/InfrastructureStateUpdater\"}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:iam::929926685443:role/InfrastructureStateUpdater"],"sid":"AllowAssumingInfrastructureStateUpdater"}],"version":"2012-10-17"},"sensitive_attributes":[]}]},{"mode":"managed","type":"aws_iam_policy","name":"infrastructure_state_updater","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::929926685443:policy/InfrastructureStateUpdater","attachment_count":1,"description":"","id":"arn:aws:iam::929926685443:policy/InfrastructureStateUpdater","name":"InfrastructureStateUpdater","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":\"s3:ListBucket\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::infrastate-780570912590\",\"Sid\":\"AllowListBucket\"},{\"Action\":[\"s3:PutObject\",\"s3:ListBucket\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::infrastate-780570912590/*\",\"Sid\":\"AllowBucketCurrentObjectModification\"},{\"Action\":[\"s3:PutObjectVersionTagging\",\"s3:PutObjectVersionAcl\",\"s3:GetObjectVersionTorrent\",\"s3:GetObjectVersionTagging\",\"s3:GetObjectVersionForReplication\",\"s3:GetObjectVersionAttributes\",\"s3:GetObjectVersionAcl\",\"s3:GetObjectVersion\",\"s3:DeleteObjectVersionTagging\",\"s3:DeleteObjectVersion\"],\"Effect\":\"Deny\",\"Resource\":\"*\",\"Sid\":\"DenyBucketObjectVersionModification\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPA5RA7TEMBQLLEFMGEJ","tags":{},"tags_all":{"env":"prod"}},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_s3_bucket.infrastate","data.aws_iam_policy_document.infrastructure_state_updater"]}]},{"mode":"managed","type":"aws_iam_policy","name":"terragrunt_org_infrastructure_state_assume","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"].management","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::780570912590:policy/InfrastructureStateUpdateAssumer","attachment_count":1,"description":"","id":"arn:aws:iam::780570912590:policy/InfrastructureStateUpdateAssumer","name":"InfrastructureStateUpdateAssumer","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:iam::929926685443:role/InfrastructureStateUpdater\",\"Sid\":\"AllowAssumingInfrastructureStateUpdater\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPA3LPNG45HIAO4VDX2N","tags":{},"tags_all":{"env":"prod"}},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_role.infrastructure_state_updater","data.aws_iam_policy_document.infrastructure_state_updater_assume_role_policy","data.aws_iam_policy_document.terragrunt_org_infrastructure_state_assume"]}]},{"mode":"managed","type":"aws_iam_role","name":"infrastructure_state_updater","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::929926685443:role/InfrastructureStateUpdater","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::780570912590:user/terragrunt\"},\"Sid\":\"AssumeRole\"}],\"Version\":\"2012-10-17\"}","create_date":"2025-08-31T00:35:11Z","description":"","force_detach_policies":false,"id":"InfrastructureStateUpdater","inline_policy":[],"managed_policy_arns":["arn:aws:iam::929926685443:policy/InfrastructureStateUpdater"],"max_session_duration":3600,"name":"InfrastructureStateUpdater","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{"env":"prod"},"unique_id":"AROA5RA7TEMBRXAZE3WJZ"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["data.aws_iam_policy_document.infrastructure_state_updater_assume_role_policy"]}]},{"mode":"managed","type":"aws_iam_role_policy_attachment","name":"terragrunt_infrastructure_state_updater","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"InfrastructureStateUpdater/arn:aws:iam::929926685443:policy/InfrastructureStateUpdater","policy_arn":"arn:aws:iam::929926685443:policy/InfrastructureStateUpdater","role":"InfrastructureStateUpdater"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_policy.infrastructure_state_updater","aws_iam_role.infrastructure_state_updater","aws_s3_bucket.infrastate","data.aws_iam_policy_document.infrastructure_state_updater","data.aws_iam_policy_document.infrastructure_state_updater_assume_role_policy"]}]},{"mode":"managed","type":"aws_iam_user_policy_attachment","name":"terragrunt_org_infrastructure_state_assume","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"].management","instances":[{"schema_version":0,"attributes":{"id":"terragrunt-20250831013744068000000001","policy_arn":"arn:aws:iam::780570912590:policy/InfrastructureStateUpdateAssumer","user":"terragrunt"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_policy.terragrunt_org_infrastructure_state_assume","aws_iam_role.infrastructure_state_updater","data.aws_iam_policy_document.infrastructure_state_updater_assume_role_policy","data.aws_iam_policy_document.terragrunt_org_infrastructure_state_assume"]}]},{"mode":"managed","type":"aws_s3_bucket","name":"infrastate","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::infrastate-780570912590","bucket":"infrastate-780570912590","bucket_domain_name":"infrastate-780570912590.s3.amazonaws.com","bucket_prefix":"","bucket_region":"us-east-2","bucket_regional_domain_name":"infrastate-780570912590.s3.us-east-2.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"cc78a3f316d7256d7ef730700188e97689443bae77c32e33af6525c9b639679c","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z2O1EMRO9K5GLX","id":"infrastate-780570912590","lifecycle_rule":[{"abort_incomplete_multipart_upload_days":0,"enabled":true,"expiration":[],"id":"purge-old-versions","noncurrent_version_expiration":[{"days":7}],"noncurrent_version_transition":[],"prefix":"","tags":{},"transition":[]}],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"","region":"us-east-2","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{},"tags_all":{"env":"prod"},"timeouts":null,"versioning":[{"enabled":true,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"}]},{"mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"infrastate","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"bucket":"infrastate-780570912590","expected_bucket_owner":"","id":"infrastate-780570912590","region":"us-east-2","rule":[{"abort_incomplete_multipart_upload":[],"expiration":[],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"purge-old-versions","noncurrent_version_expiration":[{"newer_noncurrent_versions":20,"noncurrent_days":7}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"sensitive_attributes":[],"dependencies":["aws_s3_bucket.infrastate"]}]},{"mode":"managed","type":"aws_s3_bucket_versioning","name":"infrastate","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"bucket":"infrastate-780570912590","expected_bucket_owner":"","id":"infrastate-780570912590","mfa":null,"region":"us-east-2","versioning_configuration":[{"mfa_delete":"","status":"Enabled"}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_s3_bucket.infrastate"]}]}],"check_results":null}
